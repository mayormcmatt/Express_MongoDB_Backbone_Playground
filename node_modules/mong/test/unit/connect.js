var lib = require('../../index');
var should = require('should');

describe('#connect', function () {
  it('should connect to a mongodb server', function (done) {
    lib.create().connect('mongodb://localhost/mong-test', done);
  });
  it('should error if the server doesn\'t exist', function (done) {
    lib.create().connect('mongodb://localhost:45603', function (err) {
      should.exist(err);
      done();
    });
  });
  it('should emit an error if the server doesn\'t exist', function (done) {
    lib.create('mongodb://localhost:45603')
    .on('error', function (err) {
      should.exist(err);
      done();
    });
  });
});